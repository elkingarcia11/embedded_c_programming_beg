/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

#include <stdint.h>
#include <stdio.h>

int main(void)
{
	// Address of GPIOD clock on AHB1 Bus clock reg
	uint32_t* pClkCtrlReg = (uint32_t*) 0x40023830;
	// Address of GPIOD Mode Reg
	uint32_t* pPortDModeReg = (uint32_t*) 0x40020C00;
	// Address of GPIOD Data Output Reg
	uint32_t* pPortDOutReg = (uint32_t*) 0x40020C14;


	/* Need to enable by setting 3rd bit position to 1
	 * 8 decimal value of bit number 1000, which is what we need
	 * uint32_t temp =  &pClkCtrlReg; //read
	 * temp = temp | 8; //modify
	 * *pClkCtrlReg = temp; //write
	 * or
	 * *pClkCtrlReg |= 0x08;
	 */
	*pClkCtrlReg |= (1<<3);


	/* First we clear bit position 24 and 25, bc 25 is 0
	 * 0xFCFFFFFF is to clear (two 0s in 24 and 25th pos)

	*pPortDModeReg &= 0xFCFFFFFF;
	 */

	*pPortDModeReg &= ~(3<<24);

	 /* Then set 24th bit to 1 0x1000000
	  *
	  * *pPortDModeReg |= 0x01000000);
	  * */

	*pPortDModeReg |= (1<<24);

	/* Set 12th bit pos to 1
	 * every other bit pos 0
	 * */
	/* 0x1000*/

	*pPortDOutReg |= (1<<12);


	while(1);
}
